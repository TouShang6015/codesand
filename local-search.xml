<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>小Tips-枚举Enum的进阶用法</title>
    <link href="/2023/04/21/course/%E6%9E%9A%E4%B8%BEEnum%E7%9A%84%E8%BF%9B%E9%98%B6%E7%94%A8%E6%B3%95/"/>
    <url>/2023/04/21/course/%E6%9E%9A%E4%B8%BEEnum%E7%9A%84%E8%BF%9B%E9%98%B6%E7%94%A8%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h2 id="1、简介"><a href="#1、简介" class="headerlink" title="1、简介"></a>1、简介</h2><p>枚举的基础使用不需要多说，本篇讲述的是进阶使用。</p><p>对于枚举的定义，类似接口但是有自己的构造方法，枚举不可以使用extends继承关键字，但是可以实现接口，特点描述如下</p><ul><li>枚举不可以继承</li><li>可以实现接口</li><li>可以有抽象方法</li></ul><h2 id="2、枚举与字典"><a href="#2、枚举与字典" class="headerlink" title="2、枚举与字典"></a>2、枚举与字典</h2><p><strong>字典：通常用于维护可变少，无流程的常量，存储在数据库中</strong></p><ul><li>一般用于存储如性别、是否、开关等</li></ul><p><strong>枚举：不可变常量，每一种状态可能都会影响到流程，存储在java代码中</strong></p><ul><li>如订单的状态，使用的是枚举存储</li></ul><h2 id="3、枚举-接口与lombok的结合使用"><a href="#3、枚举-接口与lombok的结合使用" class="headerlink" title="3、枚举-接口与lombok的结合使用"></a>3、枚举-接口与lombok的结合使用</h2><p>lombok的@Getter注解简化了属性的get()方法，interface定义get方法的规则<br>因此需要统一枚举的属性，定义枚举需要实现的公共接口</p><h3 id="定义接口-FlowBaseEnum-class"><a href="#定义接口-FlowBaseEnum-class" class="headerlink" title="定义接口 FlowBaseEnum.class"></a>定义接口 FlowBaseEnum.class</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">FlowBaseEnum</span> &#123;<br><br>    String <span class="hljs-title function_">getKey</span><span class="hljs-params">()</span>;<br><br>    String <span class="hljs-title function_">getValue</span><span class="hljs-params">()</span>;<br><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="枚举"><a href="#枚举" class="headerlink" title="枚举"></a>枚举</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 设备绑定状态枚举</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> wuhao</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@date</span> 2022/11/1 15:25</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Getter</span><br><span class="hljs-meta">@AllArgsConstructor</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">DeviceBindStatus</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">FlowBaseEnum</span> &#123;<br><br>    LOCKED(<span class="hljs-string">&quot;1&quot;</span>,<span class="hljs-string">&quot;锁定&quot;</span>),<br><br>    UNLOCKED(<span class="hljs-string">&quot;2&quot;</span>,<span class="hljs-string">&quot;未锁定&quot;</span>),<br>    ;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String key;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String value;<br><br>&#125;<br></code></pre></td></tr></table></figure><p>上述枚举 属性 <code>key</code> <code>value</code>为固定字段，接口方法为属性的get方法</p><h2 id="4、接口的作用"><a href="#4、接口的作用" class="headerlink" title="4、接口的作用"></a>4、接口的作用</h2><p>单个枚举的使用看不出接口的效果，对于接口的定义，<code>通过接口来统一的管理流程类枚举</code></p><blockquote><p>应用场景：设备绑定状态下拉框数据</p></blockquote><p><strong>定义流程枚举工具类：FlowEnumUtils</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> wuhao</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@date</span> 2022/11/4 16:34</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FlowEnumUtils</span> &#123;<br> <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 获取枚举下拉</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> cls 枚举class类</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> &lt;T&gt;</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">FlowBaseEnum</span>&gt; List&lt;OptionLabel&lt;String, String&gt;&gt; <span class="hljs-title function_">getOptionList</span><span class="hljs-params">(Class&lt;T&gt; cls)</span> &#123;<br>        Assert.notNull(cls);<br>        T[] constants = cls.getEnumConstants();<br>        <span class="hljs-keyword">return</span> Arrays.stream(constants).map(t -&gt; &#123;<br>            OptionLabel&lt;String, String&gt; optionLabel = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OptionLabel</span>&lt;&gt;();<br>            optionLabel.setLabel(t.getValue());<br>            optionLabel.setValue(t.getKey());<br>            <span class="hljs-keyword">return</span> optionLabel;<br>        &#125;).collect(Collectors.toList());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><code>OptionLabel</code>为通用的下拉实体，只有label与value两个属性</p><p><strong>这个方法可以看出来为什么要定义接口了吧</strong></p><p>使用泛型，<code>T</code>的类型为<code>FlowBaseEnum</code>接口的实现类，当然<strong>实现类必须为枚举</strong>，不然cls.getEnumConstants()会报错，通过getEnumConstants()方法获取枚举数组，返回的就是枚举中所有的构造方法，通过接口定义的getKey()与getValue()获取key value封装成下拉实体。</p><p><strong>因此定义接口是为了统一维护枚举，并加以扩展定制化</strong></p><h2 id="5、枚举的分组"><a href="#5、枚举的分组" class="headerlink" title="5、枚举的分组"></a>5、枚举的分组</h2><p><strong>场景：不同订单类型下，订单中的数据类型不相同。</strong><br>如订单类型分为</p><ul><li>修复类型订单</li><li>种植类型订单</li><li>正畸类型订单</li></ul><p>每个类型中所对应的数据是不相同的</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/** </span><br><span class="hljs-comment"> * 订单数据类型接口</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> wuhao</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@date</span> 2022/11/1 18:12</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">IOrderDataTypes</span> &#123;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 修复类型</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Getter</span><br>    <span class="hljs-meta">@AllArgsConstructor</span><br>    <span class="hljs-keyword">enum</span> <span class="hljs-title class_">REPAIR</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">IOrderDataTypes</span> &#123;<br>        DATA_INTACT(<span class="hljs-string">&quot;数据完整性&quot;</span>),<br>        MARGIN(<span class="hljs-string">&quot;边缘&quot;</span>),<br>        RECESSED_AND_POSITION_PATH(<span class="hljs-string">&quot;倒凹&amp;就位道&quot;</span>),<br>        ;<br><br>        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String description;<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 种植类型</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Getter</span><br>    <span class="hljs-meta">@AllArgsConstructor</span><br>    <span class="hljs-keyword">enum</span> <span class="hljs-title class_">PLANT</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">IOrderDataTypes</span> &#123;<br>        DATA_INTACT(<span class="hljs-string">&quot;数据完整性&quot;</span>),<br>        PLANTING_SCANNING_ROD(<span class="hljs-string">&quot;种植扫描杆&quot;</span>),<br>        ;<br>        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String description;<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 正畸类型</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Getter</span><br>    <span class="hljs-meta">@AllArgsConstructor</span><br>    <span class="hljs-keyword">enum</span> <span class="hljs-title class_">ORTHODONTICS</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">IOrderDataTypes</span> &#123;<br>        DATA_INTACT(<span class="hljs-string">&quot;数据完整性&quot;</span>),<br>        BITE_THE_JAW(<span class="hljs-string">&quot;咬颌&quot;</span>),<br>        ;<br><br>        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String description;<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><p><strong>接口中可定义多个枚举类，这里接口的作用仅仅是做一个分组的作用</strong></p><h2 id="6、枚举中的一对多分组"><a href="#6、枚举中的一对多分组" class="headerlink" title="6、枚举中的一对多分组"></a>6、枚举中的一对多分组</h2><p>这里结合的是上面两种方式的一个进阶，相当于对枚举分组的一个实现，使用场景：<br><strong>每个订单类型下，对应多个不同的数据类型</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 订单数据类型</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> wyj</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@date</span> 2022/11/1 17:46</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Getter</span><br><span class="hljs-meta">@AllArgsConstructor</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">OrderDataType</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">FlowBaseEnum</span> &#123;<br><br>    REPAIR(<span class="hljs-string">&quot;1&quot;</span>,<span class="hljs-string">&quot;牙齿修复&quot;</span>)&#123;<br>        <span class="hljs-meta">@Override</span><br>        <span class="hljs-keyword">public</span> List&lt;IOrderDataTypes.REPAIR&gt; getOrderTypes() &#123;<br>            <span class="hljs-keyword">return</span> Arrays.stream(IOrderDataTypes.REPAIR.values()).collect(Collectors.toList());<br>        &#125;<br>    &#125;,<br><br>    PLANT(<span class="hljs-string">&quot;2&quot;</span>,<span class="hljs-string">&quot;牙齿种植&quot;</span>)&#123;<br>        <span class="hljs-meta">@Override</span><br>        <span class="hljs-keyword">public</span> List&lt;IOrderDataTypes.PLANT&gt; getOrderTypes() &#123;<br>            <span class="hljs-keyword">return</span> Arrays.stream(IOrderDataTypes.PLANT.values()).collect(Collectors.toList());<br>        &#125;<br>    &#125;,<br><br>    ORTHODONTICS(<span class="hljs-string">&quot;3&quot;</span>,<span class="hljs-string">&quot;牙齿正畸&quot;</span>)&#123;<br>        <span class="hljs-meta">@Override</span><br>        <span class="hljs-keyword">public</span> List&lt;IOrderDataTypes.ORTHODONTICS&gt; getOrderTypes() &#123;<br>            <span class="hljs-keyword">return</span> Arrays.stream(IOrderDataTypes.ORTHODONTICS.values()).collect(Collectors.toList());<br>        &#125;<br>    &#125;,<br><br>    ;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String key;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String value;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 获取类型中的详细类型</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> &lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">IOrderDataTypes</span>&gt; List&lt;T&gt; <span class="hljs-title function_">getOrderTypes</span><span class="hljs-params">()</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>这里<code>OrderDataType</code>枚举中定义了3中订单类型，而如果需要实现每种类型对应多个数据类型，则需要定义一个抽象方法，返回的是数据类型列表，方法的返回值数据类型则是<code>IOrderDataTypes</code>的实现类。在上面<code>枚举的分组</code>中已经定义了一个<code>IOrderDataTypes</code>。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 要获取某一个类型中的数据类型列表</span><br><span class="hljs-comment">// 获取牙齿正畸订单数据类型列表标识</span><br>List&lt;IOrderDataTypes&gt; orderTypes = OrderDataType.ORTHODONTICS.getOrderTypes();<br>orderTypes.forEach(System.out::println);<br></code></pre></td></tr></table></figure><p><img src="https://static.equinox19.xyz/articles/f13ccfac2c3619da19e0eb82c6e52321.png" alt="图片.png"></p><p><strong>可以把枚举定义成接口，枚举中定义的值为接口的实现类，枚举中只能定义抽象方法，不能定义普通方法，而实现类中必须实现抽象方法</strong></p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>了解枚举与字典的使用场景，可以是开发变的更高效，以前使用字典维护项目中的流程状态，开发起来很繁琐，因此关于流程的状态个人觉得不太适合使用字典维护。</p><blockquote><p>灵感来自书籍《On Java 8 进阶版》</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>编程知识</category>
      
    </categories>
    
    
    <tags>
      
      <tag>springBoot</tag>
      
      <tag>编程技巧</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CompletableFuture超时处理 配置线程池</title>
    <link href="/2023/04/21/course/CompletableFuture%E8%B6%85%E6%97%B6%E5%A4%84%E7%90%86%20%E9%85%8D%E7%BD%AE%E7%BA%BF%E7%A8%8B%E6%B1%A0/"/>
    <url>/2023/04/21/course/CompletableFuture%E8%B6%85%E6%97%B6%E5%A4%84%E7%90%86%20%E9%85%8D%E7%BD%AE%E7%BA%BF%E7%A8%8B%E6%B1%A0/</url>
    
    <content type="html"><![CDATA[<h1 id="CompletableFuture"><a href="#CompletableFuture" class="headerlink" title="CompletableFuture"></a>CompletableFuture</h1><ul><li>简介</li><li>使用方法</li><li>代码</li></ul><h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>&amp;emsp;&amp;emsp;项目中一个统计的业务场景，使用原生的CompletableFuture异步多个任务查询mysql数据，少量请求无问题，但是测试过程中大量请求进来，线程没有设置超时时间，导致大量线程处于等待状态，接口响应缓慢。<br>&amp;emsp;&amp;emsp;因此需要在原生的CompletableFuture中封装，使用自定义线程池、设置超时时间保证接口稳定性。</p><h1 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h1><p>&amp;emsp;&amp;emsp;工具类中主要封装了 supplyAsync()、runAsync()、allOf()这三个方法，目前我的项目中业务场景这三个方法比较常用。<br>&amp;emsp;&amp;emsp;将工具类引入项目中，CompletableFuture.supplyAsync() 可直接替换为FutureUtil.supplyAsync()，其他方法同理，替换类名即可，示例如下</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 有返回值的异步任务</span><br>FutureUtil.supplyAsync(() -&gt; &#123;<br><span class="hljs-comment">// 逻辑代码</span><br>&#125;)<br><br><span class="hljs-comment">// 无返回值的异步任务</span><br>FutureUtil.runAsync(() -&gt; &#123;<br><span class="hljs-comment">// 逻辑代码</span><br>&#125;)<br><br><span class="hljs-comment">// 统一等待异步任务执行完成</span><br>FutureUtil.allOf(() -&gt; &#123;<br><span class="hljs-comment">// 逻辑代码</span><br>&#125;)<br><br></code></pre></td></tr></table></figure><p>默认超时时间为可在工具类中设置，可手动设置超时时间，示例如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 前两个参数分别为 超时时间、时间单位</span><br>FutureUtil.allOf(<span class="hljs-number">1000</span>, TimeUnit.MILLISECONDS,() -&gt; &#123; <span class="hljs-comment">// 异步任务 &#125;);</span><br><br>FutureUtil.runAsync(<span class="hljs-number">1000</span>, TimeUnit.MILLISECONDS,() -&gt; &#123; <span class="hljs-comment">// 逻辑代码 &#125;);</span><br>FutureUtil.supplyAsync(<span class="hljs-number">1000</span>, TimeUnit.MILLISECONDS,() -&gt; &#123; <span class="hljs-comment">// 逻辑代码 &#125;);</span><br><br></code></pre></td></tr></table></figure><p>详细使用可自行查看工具类中源码，代码贴下面了👇👇👇</p><h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br></pre></td><td class="code"><pre><code class="hljs java"><br><span class="hljs-keyword">import</span> lombok.extern.slf4j.Slf4j;<br><br><span class="hljs-keyword">import</span> java.util.concurrent.*;<br><span class="hljs-keyword">import</span> java.util.function.Function;<br><span class="hljs-keyword">import</span> java.util.function.Supplier;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment">* 多任务处理工具类</span><br><span class="hljs-comment">* <span class="hljs-doctag">@Author</span> WhHao</span><br><span class="hljs-comment">* <span class="hljs-doctag">@Date</span> 2022/8/10 16:04</span><br><span class="hljs-comment">* <span class="hljs-doctag">@Return</span></span><br><span class="hljs-comment">*/</span><br><span class="hljs-meta">@Slf4j</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FutureUtil</span> &#123;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * cpu 核心数</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">AVALIABLE_PROCESSORS</span> <span class="hljs-operator">=</span> Runtime.getRuntime().availableProcessors();<br><br>    <span class="hljs-comment">// 最大超时时间</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">TIMEOUT_VALUE</span> <span class="hljs-operator">=</span> <span class="hljs-number">1500</span>;<br>    <span class="hljs-comment">// 时间单位</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">TimeUnit</span> <span class="hljs-variable">TIMEOUT_UNIT</span> <span class="hljs-operator">=</span> TimeUnit.MILLISECONDS;<br><br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * Singleton delay scheduler, used only for starting and * cancelling tasks.</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Delayer</span> &#123;<br><br>        <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> ScheduledThreadPoolExecutor delayer;<br><br>        <span class="hljs-comment">/**</span><br><span class="hljs-comment">         * 异常线程，不做请求处理，只抛出异常</span><br><span class="hljs-comment">         */</span><br>        <span class="hljs-keyword">static</span> &#123;<br>            delayer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ScheduledThreadPoolExecutor</span>(<span class="hljs-number">1</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">DaemonThreadFactory</span>());<br>            delayer.setRemoveOnCancelPolicy(<span class="hljs-literal">true</span>);<br>        &#125;<br><br>        <span class="hljs-keyword">static</span> ScheduledFuture&lt;?&gt; delay(Runnable command, <span class="hljs-type">long</span> delay, TimeUnit unit) &#123;<br>            <span class="hljs-keyword">return</span> delayer.schedule(command, delay, unit);<br>        &#125;<br><br>        <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DaemonThreadFactory</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ThreadFactory</span> &#123;<br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-keyword">public</span> Thread <span class="hljs-title function_">newThread</span><span class="hljs-params">(Runnable r)</span> &#123;<br>                <span class="hljs-type">Thread</span> <span class="hljs-variable">t</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(r);<br>                t.setDaemon(<span class="hljs-literal">true</span>);<br>                t.setName(<span class="hljs-string">&quot;CompletableFutureScheduler&quot;</span>);<br>                <span class="hljs-keyword">return</span> t;<br>            &#125;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 根据服务器cpu自定义线程池</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">ThreadPoolExecutor</span> <span class="hljs-variable">threadPoolExecutor</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadPoolExecutor</span>(<br>            AVALIABLE_PROCESSORS,<br>            <span class="hljs-number">3</span> * AVALIABLE_PROCESSORS,<br>            <span class="hljs-number">3</span>,<br>            TimeUnit.SECONDS,<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedBlockingDeque</span>&lt;&gt;(<span class="hljs-number">20</span>),<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadPoolExecutor</span>.CallerRunsPolicy()<br>    );<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 有返回值的异步</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> supplier</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> &lt;T&gt;</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span>  &lt;T&gt; CompletableFuture&lt;T&gt; <span class="hljs-title function_">supplyAsync</span><span class="hljs-params">(Supplier&lt;T&gt; supplier)</span>&#123;<br>        <span class="hljs-keyword">return</span> supplyAsync(TIMEOUT_VALUE,TIMEOUT_UNIT,supplier);<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 有返回值的异步 - 可设置超时时间</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> timeout</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> unit</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> supplier</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> &lt;T&gt;</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span>  &lt;T&gt; CompletableFuture&lt;T&gt; <span class="hljs-title function_">supplyAsync</span><span class="hljs-params">(<span class="hljs-type">long</span> timeout, TimeUnit unit,Supplier&lt;T&gt; supplier)</span>&#123;<br>        <span class="hljs-keyword">return</span> CompletableFuture.supplyAsync(supplier, threadPoolExecutor)<br>                .applyToEither(timeoutAfter(timeout,unit), Function.identity())<br>                .exceptionally(throwable -&gt; &#123;<br>                    throwable.printStackTrace();<br>                    log.error(throwable.getMessage());<br>                    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>                &#125;);<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 无返回值的异步</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> runnable</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> CompletableFuture <span class="hljs-title function_">runAsync</span><span class="hljs-params">(Runnable runnable)</span>&#123;<br>        <span class="hljs-keyword">return</span> runAsync(TIMEOUT_VALUE,TIMEOUT_UNIT,runnable);<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 无返回值的异步 - 可设置超时时间</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> runnable</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> CompletableFuture <span class="hljs-title function_">runAsync</span><span class="hljs-params">(<span class="hljs-type">long</span> timeout, TimeUnit unit,Runnable runnable)</span>&#123;<br>        <span class="hljs-keyword">return</span> CompletableFuture.runAsync(runnable,threadPoolExecutor)<br>                .applyToEither(timeoutAfter(timeout,unit), Function.identity())<br>                .exceptionally(throwable -&gt; &#123;<br>                    throwable.printStackTrace();<br>                    log.error(throwable.getMessage());<br>                    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>                &#125;);<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 统一处理异步结果</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> futures</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> CompletableFuture <span class="hljs-title function_">allOf</span><span class="hljs-params">(CompletableFuture... futures)</span>&#123;<br>        <span class="hljs-keyword">return</span> allOf(TIMEOUT_VALUE,TIMEOUT_UNIT,futures);<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 统一处理异步结果 - 可设置超时时间</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> futures</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> CompletableFuture <span class="hljs-title function_">allOf</span><span class="hljs-params">(<span class="hljs-type">long</span> timeout, TimeUnit unit,CompletableFuture... futures)</span>&#123;<br>        <span class="hljs-keyword">return</span> CompletableFuture.allOf(futures)<br>                .applyToEither(timeoutAfter(timeout,unit), Function.identity())<br>                .exceptionally(throwable -&gt; &#123;<br>                    throwable.printStackTrace();<br>                    log.error(throwable.getMessage());<br>                    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>                &#125;);<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 异步超时处理</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> timeout</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> unit</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> &lt;T&gt;</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; CompletableFuture&lt;T&gt; <span class="hljs-title function_">timeoutAfter</span><span class="hljs-params">(<span class="hljs-type">long</span> timeout, TimeUnit unit)</span> &#123;<br>        CompletableFuture&lt;T&gt; result = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CompletableFuture</span>&lt;T&gt;();<br>        <span class="hljs-comment">// timeout 时间后 抛出TimeoutException 类似于sentinel / watcher</span><br>        Delayer.delayer.schedule(() -&gt; result.completeExceptionally(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TimeoutException</span>()), timeout, unit);<br>        <span class="hljs-keyword">return</span> result;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; CompletableFuture&lt;T&gt; <span class="hljs-title function_">timeoutAfter</span><span class="hljs-params">()</span> &#123;<br>        CompletableFuture&lt;T&gt; result = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CompletableFuture</span>&lt;T&gt;();<br>        <span class="hljs-comment">// timeout 时间后 抛出TimeoutException 类似于sentinel / watcher</span><br>        Delayer.delayer.schedule(() -&gt; result.completeExceptionally(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TimeoutException</span>()), TIMEOUT_VALUE, TIMEOUT_UNIT);<br>        <span class="hljs-keyword">return</span> result;<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>springBoot</category>
      
    </categories>
    
    
    <tags>
      
      <tag>springBoot</tag>
      
      <tag>工具类</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>idea ssm/ssh项目配置Tomcat（极其详细）</title>
    <link href="/2023/04/13/course/tomcat/"/>
    <url>/2023/04/13/course/tomcat/</url>
    
    <content type="html"><![CDATA[<h1 id="idea-ssm-x2F-ssh项目配置Tomcat"><a href="#idea-ssm-x2F-ssh项目配置Tomcat" class="headerlink" title="idea ssm&#x2F;ssh项目配置Tomcat"></a>idea ssm&#x2F;ssh项目配置Tomcat</h1><h3 id="1、准备工作"><a href="#1、准备工作" class="headerlink" title="1、准备工作"></a>1、准备工作</h3><ul><li>你的项目</li><li>tomcat压缩包</li></ul><hr></hr><p>tomcat下载地址（8.0-9.0版本）：👉<a href="https://pan.baidu.com/s/12a7C7gJ3tHw_97dH94TJqQ">点我下载</a><br>提取码：<strong>9lYa</strong></p><p><code>如果本地开发，不需要配置tomcat环境变量</code></p><h3 id="2、确保你的项目需要配置tomcat"><a href="#2、确保你的项目需要配置tomcat" class="headerlink" title="2、确保你的项目需要配置tomcat"></a>2、确保你的项目需要配置tomcat</h3><p>如 springboot项目不需要配置tomcat，<strong>ssm&#x2F;ssh&#x2F;servlet项目需要手动配置tomcat</strong></p><h3 id="3、开始配置"><a href="#3、开始配置" class="headerlink" title="3、开始配置"></a>3、开始配置</h3><blockquote><p>这里拿ssm项目为例子</p></blockquote><h4 id="1）解压tomcat包至某一个目录下"><a href="#1）解压tomcat包至某一个目录下" class="headerlink" title="1）解压tomcat包至某一个目录下"></a>1）解压tomcat包至某一个目录下</h4><p><img src="https://static.equinox19.xyz/articles/89433c0d1a20f5294d75bb21a9bea4ec.png" alt="图片.png"></p><p><img src="https://static.equinox19.xyz/articles/2cd22f39736d6c87b7a61fa703272824.png" alt="图片.png"></p><h4 id="2）idea配置tomcat"><a href="#2）idea配置tomcat" class="headerlink" title="2）idea配置tomcat"></a>2）idea配置tomcat</h4><p><img src="https://static.equinox19.xyz/articles/8ca962a46a2899f3c5413360925f7345.png" alt="图片.png"></p><p><code>部分idea版本不同，看到绿色锤子旁边那个就是的，点击这个添加配置</code></p><p><img src="https://static.equinox19.xyz/articles/139d0335067d6df7cea48857b133e4bf.png" alt="图片.png"><br><img src="https://static.equinox19.xyz/articles/68179478cbc04af89162073363364813.png" alt="图片.png"></p><p><strong>注意idea为社区版的是没有这个选项的，详情请查看<a href="https://www.equinox19.xyz/siteresource/68">《idea破解》</a></strong></p><p><img src="https://static.equinox19.xyz/articles/a8cf54e8ceef16550cf50614c615dbd2.png" alt="图片.png"></p><p><img src="https://static.equinox19.xyz/articles/1cda7f04508c02df95124a987bdfe8c8.png" alt="图片.png"></p><p><img src="https://static.equinox19.xyz/articles/42e5d99194bafaf49c31f6fe7c3ede37.png" alt="图片.png"></p><p><img src="https://static.equinox19.xyz/articles/a05ff43815a04af2ef032b927a7198b4.png" alt="图片.png"></p><p><img src="https://static.equinox19.xyz/articles/d040a5aee5b99c3fa949864f9dc1449c.png" alt="图片.png"></p><h4 id="3）加载项目至tomcat容器"><a href="#3）加载项目至tomcat容器" class="headerlink" title="3）加载项目至tomcat容器"></a>3）加载项目至tomcat容器</h4><p><img src="https://static.equinox19.xyz/articles/494b99e0aa82287f6d74b56b48a82ae9.png" alt="图片.png"></p><p><img src="https://static.equinox19.xyz/articles/a8aa618aae9e7fe8bbf2812943c1643e.png" alt="图片.png"></p><p><img src="https://static.equinox19.xyz/articles/c9954edb5dd39aa39d24fbf1094df420.png" alt="图片.png"></p><p><img src="https://static.equinox19.xyz/articles/41777c385c0387849d4c5992fbb49a9e.png" alt="图片.png"></p><p><img src="https://static.equinox19.xyz/articles/a5579df749e87e22daa2588eaed30a5a.png" alt="图片.png"></p><p><img src="https://static.equinox19.xyz/articles/6226b7770b26500c80e33920f6aef93e.png" alt="图片.png"></p><p><code>点击应用确定，完成项目配置</code></p><p><img src="https://static.equinox19.xyz/articles/739b50ed2f776b801eb5c3ffe0a09729.png" alt="图片.png"></p><h2 id="疑难解答"><a href="#疑难解答" class="headerlink" title="疑难解答"></a>疑难解答</h2><h3 id="1、项目没有配置好，tomcat找不到项目？"><a href="#1、项目没有配置好，tomcat找不到项目？" class="headerlink" title="1、项目没有配置好，tomcat找不到项目？"></a>1、项目没有配置好，tomcat找不到项目？</h3><p>1）先确定包结构是否正确，以ssm项目为例</p><p><strong>首先如果是maven项目，一定要先配置好maven，会省很多事</strong></p><p><img src="https://static.equinox19.xyz/articles/fe4a56907af6c1bdcc2d2ed11047204c.png" alt="图片.png"></p><p><img src="https://static.equinox19.xyz/articles/024251aa0e324f51802b8d8e8a950334.png" alt="图片.png"></p><p><strong>注意：如果resource没有那个黄色的标识，右键标记为资源目录</strong><br><img src="https://static.equinox19.xyz/articles/1e8984943f6748004fbe1c8e117567d9.png" alt="图片.png"></p><p>2） F4 打开项目设置</p><p><img src="https://static.equinox19.xyz/articles/624d6b37a8bdafb3ad2954877c5f053d.png" alt="图片.png"></p><p>确保该目录下有以下配置</p><p><strong>如果没有的话完成以下步骤</strong><br><img src="https://static.equinox19.xyz/articles/48e140041c139f414ca83d630cc58342.png" alt="图片.png"><br><img src="https://static.equinox19.xyz/articles/67b1d64cc8cb5b2249ec38c1dc1dace2.png" alt="图片.png"><br><img src="https://static.equinox19.xyz/articles/86efa68561eb83db02370c041e856888.png" alt="图片.png"><br><img src="https://static.equinox19.xyz/articles/810dc233883d9c43fa4ea35aa902284e.png" alt="图片.png"><br><img src="https://static.equinox19.xyz/articles/a45fb270de7c7fa7880015ac87bbc693.png" alt="图片.png"><br><img src="https://static.equinox19.xyz/articles/b5135545de2aad060b9c2da1d96027ac.png" alt="图片.png"><br><img src="https://static.equinox19.xyz/articles/436816859575bd9a46234735546ff696.png" alt="图片.png"></p><blockquote><p>一般web目录命名为 webapp  web等，不同项目不一样</p></blockquote><p><img src="https://static.equinox19.xyz/articles/01a4c179111c663d579cc43ac3eb590c.png" alt="图片.png"></p><p><img src="https://static.equinox19.xyz/articles/efec34d18a6f33001482a61e5aa1079c.png" alt="图片.png"><br><img src="https://static.equinox19.xyz/articles/e76ae4a7ecdfab84fdfac4036ea0c0cc.png" alt="图片.png"></p><p>最后点击应用保存，项目设置完成</p>]]></content>
    
    
    <categories>
      
      <category>运行教程</category>
      
    </categories>
    
    
    <tags>
      
      <tag>运行教程</tag>
      
      <tag>springBoot</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Maven环境搭建（idea）</title>
    <link href="/2023/04/12/course/maven/"/>
    <url>/2023/04/12/course/maven/</url>
    
    <content type="html"><![CDATA[<h1 id="Maven环境搭建（idea）"><a href="#Maven环境搭建（idea）" class="headerlink" title="Maven环境搭建（idea）"></a>Maven环境搭建（idea）</h1><h2 id="下载地址"><a href="#下载地址" class="headerlink" title="下载地址"></a>下载地址</h2><p>我用的是maven3.5版本的，已配置好可直接使用，下载地址👇</p><p><a href="https://pan.baidu.com/s/1m8qjck2COEyNr_04LN7Q4w">maven安装包</a><br>提取码：f6qz </p><h2 id="环境搭建"><a href="#环境搭建" class="headerlink" title="环境搭建"></a>环境搭建</h2><h3 id="1、解压maven压缩包"><a href="#1、解压maven压缩包" class="headerlink" title="1、解压maven压缩包"></a>1、解压maven压缩包</h3><p>解压到本地电脑中任意磁盘（不要放在C盘）</p><p><img src="https://static.equinox19.xyz/articles/a271ceeafe3faf7a84db14b3118c31a2.jpg" alt="1663399675605.jpg"></p><p><img src="https://static.equinox19.xyz/articles/64d450b313b2d5b98ec9ca4dd52e5d30.jpg" alt="1663399839224.jpg"></p><h3 id="2、创建maven本地仓库的存储路径"><a href="#2、创建maven本地仓库的存储路径" class="headerlink" title="2、创建maven本地仓库的存储路径"></a>2、创建maven本地仓库的存储路径</h3><p>创建一个文件夹，命名为 mavenRespository，用于存放本地jar。</p><p><img src="https://static.equinox19.xyz/articles/368817ed297a702bb0695779135afc45.png" alt="图片.png"></p><h3 id="3、修改setting-xml配置文件"><a href="#3、修改setting-xml配置文件" class="headerlink" title="3、修改setting.xml配置文件"></a>3、修改setting.xml配置文件</h3><p><img src="https://static.equinox19.xyz/articles/54a9ca77db5c66e3bfb92e3a6fe1dbb2.jpg" alt="1663399990456.jpg"></p><p>👇以下是setting文件内容，</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs xml"><br><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">settings</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;</span></span><br><span class="hljs-tag">          <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">          <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;</span>&gt;</span><br><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">localRepository</span>&gt;</span>你的maven仓库地址<span class="hljs-tag">&lt;/<span class="hljs-name">localRepository</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">mirrors</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mirror</span>&gt;</span><br>　　　　　<span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>nexus-aliyun<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span><br>　　　　　<span class="hljs-tag">&lt;<span class="hljs-name">mirrorOf</span>&gt;</span>central<span class="hljs-tag">&lt;/<span class="hljs-name">mirrorOf</span>&gt;</span><br>　　　　　<span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>Nexus aliyun<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>　　　　　<span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span><br>　　<span class="hljs-tag">&lt;/<span class="hljs-name">mirror</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">mirrors</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">settings</span>&gt;</span><br><br></code></pre></td></tr></table></figure><p>将上述代码中的</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">localRepository</span>&gt;</span>你的maven仓库地址<span class="hljs-tag">&lt;/<span class="hljs-name">localRepository</span>&gt;</span><br></code></pre></td></tr></table></figure><p>标签内容替换成刚才新建 mavenRespository 文件夹目录，<strong>注意换成自己电脑的路径</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">localRepository</span>&gt;</span>E:\software\maven\mavenRepository<span class="hljs-tag">&lt;/<span class="hljs-name">localRepository</span>&gt;</span><br></code></pre></td></tr></table></figure><p>最后保存文件，maven配置完成</p><h2 id="idea中配置maven"><a href="#idea中配置maven" class="headerlink" title="idea中配置maven"></a>idea中配置maven</h2><p>maven环境配置完成后，现在需要在idea中配置maven</p><h3 id="1、打开idea的设置"><a href="#1、打开idea的设置" class="headerlink" title="1、打开idea的设置"></a>1、打开idea的设置</h3><p><img src="https://static.equinox19.xyz/articles/756134d89890d8cfc555db4ac6ca8a0c.png" alt="图片.png"></p><h3 id="2、搜索maven"><a href="#2、搜索maven" class="headerlink" title="2、搜索maven"></a>2、搜索maven</h3><p><img src="https://static.equinox19.xyz/articles/3416adf2117adb506d863afd97ab5b16.png" alt="图片.png"></p><h3 id="3、修改maven主目录"><a href="#3、修改maven主目录" class="headerlink" title="3、修改maven主目录"></a>3、修改maven主目录</h3><p><strong>只需要修改下图中的maven主目录即可</strong></p><p><img src="https://static.equinox19.xyz/articles/fcfbb189a306787710b59fb93c7ae661.png" alt="图片.png"></p><h3 id="4、-保存后配置完成"><a href="#4、-保存后配置完成" class="headerlink" title="4、 保存后配置完成"></a>4、 保存后配置完成</h3><p>点击保存后，如果打开了maven项目，idea的右下角会有下面的加载条，等待jar下载完成即可</p><p><img src="https://static.equinox19.xyz/articles/e555b8685943dcdc4c660a62a4603aba.png" alt="图片.png"></p><p><img src="https://static.equinox19.xyz/articles/9e00c423ee816e62d5462c2203a2c56d.png" alt="图片.png"></p>]]></content>
    
    
    <categories>
      
      <category>运行教程</category>
      
    </categories>
    
    
    <tags>
      
      <tag>运行教程</tag>
      
      <tag>springBoot</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
